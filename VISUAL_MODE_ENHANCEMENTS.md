# Visual Mode Enhancements - UX/UI ä¼˜åŒ–æ–‡æ¡£

## æ¦‚è¿°

é’ˆå¯¹ç”¨æˆ·åé¦ˆ"åœ¨æŒ‰ä½shift+optä¹‹åçš„æ‚¬æµ®çª—UIUXå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œä»¥åŠä¸åŒæ¨¡å¼ï¼ˆå¤åˆ¶ã€IDEï¼‰ä¸‹åº”è¯¥è¦æœ‰åŒºåˆ†"ï¼Œæˆ‘ä»¬å®ç°äº†å…¨é¢çš„è§†è§‰ä¼˜åŒ–ç³»ç»Ÿã€‚

## ğŸ¨ æ ¸å¿ƒæ”¹è¿›

### 1. **æ¨¡å¼åŒºåˆ†è‰²å½©ç³»ç»Ÿ**

æ¯ä¸ªæ“ä½œæ¨¡å¼ç°åœ¨éƒ½æœ‰ç‹¬ç‰¹çš„è§†è§‰æ ‡è¯†ï¼š

| æ¨¡å¼ | é¢œè‰²ä¸»é¢˜ | è§†è§‰æ•ˆæœ | å›¾æ ‡ |
|------|---------|---------|------|
| **Copy** (å¤åˆ¶è·¯å¾„) | è“è‰² (#006AFF) | è“è‰²æ¸å˜è¦†ç›–å±‚ + è“ç´«æ¸å˜Badge | ğŸ“‹ |
| **Locate** (æ‰“å¼€IDE) | ç»¿è‰² (#00B42A) | ç»¿è‰²æ¸å˜è¦†ç›–å±‚ + ç»¿è‰²æ¸å˜Badge | ğŸ¯ |
| **Target** (æ‰“å¼€é“¾æ¥) | çº¢æ©™è‰² (#F53F3F) | çº¢è‰²æ¸å˜è¦†ç›–å±‚ + æ©™è‰²æ¸å˜Badge | ğŸ”— |
| **All** (å…¨éƒ¨æ“ä½œ) | ç´«è‰² (#A855F7) | ç´«è‰²æ¸å˜è¦†ç›–å±‚ + ç´«è‰²æ¸å˜Badge | âš¡ |

### 2. **å®æ—¶æ¨¡å¼åé¦ˆ**

**åŠ¨æ€é¢œè‰²åˆ‡æ¢ï¼š**
```
ç”¨æˆ·ä½“éªŒæµç¨‹ï¼š
1. æŒ‰ä¸‹ Shift+Alt â†’ è¦†ç›–å±‚å˜ä¸ºè“è‰² â†’ Badgeæ˜¾ç¤º"ğŸ“‹ COPY PATH"
2. ç»§ç»­æŒ‰ä¸‹ Cmd â†’ è¦†ç›–å±‚åˆ‡æ¢ä¸ºç»¿è‰² â†’ Badgeæ˜¾ç¤º"ğŸ¯ OPEN IN IDE"
3. æ¾å¼€ä»»æ„é”® â†’ ç«‹å³æ›´æ–°è§†è§‰çŠ¶æ€
```

**å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»ï¼š**
- æ‰€æœ‰é¢œè‰²å˜åŒ–ä½¿ç”¨ `0.2s ease-in-out` è¿‡æ¸¡
- è¦†ç›–å±‚æ·»åŠ subtleçš„è„‰å†²åŠ¨ç”»ï¼ˆ2ç§’å‘¨æœŸï¼‰
- æ— é—ªçƒï¼Œè§†è§‰è¿ç»­æ€§å¥½

### 3. **ä¿¡æ¯é¢æ¿é‡è®¾è®¡**

#### Before (æ—§ç‰ˆæœ¬):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <Component>                â”‚
â”‚ Mode: Copy Â· Shift+Opt+C   â”‚
â”‚ path/to/file.tsx:10:5      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### After (æ–°ç‰ˆæœ¬):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ COPY PATH        â”ƒ è“è‰²æ¸å˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â† 3px accent border
â”‚ <Component>                â”‚ â† åŠ¨æ€accentè‰²
â”‚ âŒ¥option+shift=Copy ...     â”‚
â”‚ path/to/file.tsx:10:5      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ–°å¢å…ƒç´ ï¼š**
1. **Mode Badgeï¼ˆæ¨¡å¼å¾½ç« ï¼‰**
   - ä½ç½®ï¼šé¢æ¿é¡¶éƒ¨
   - æ ·å¼ï¼šæ¸å˜èƒŒæ™¯ + ç™½è‰²æ–‡å­— + emojiå›¾æ ‡
   - åŠŸèƒ½ï¼šä¸€çœ¼è¯†åˆ«å½“å‰æ“ä½œæ¨¡å¼

2. **Accent Borderï¼ˆå¼ºè°ƒè¾¹æ¡†ï¼‰**
   - 3px å·¦ä¾§è¾¹æ¡†
   - é¢œè‰²éšæ¨¡å¼åŠ¨æ€å˜åŒ–
   - å¢å¼ºè§†è§‰å±‚æ¬¡æ„Ÿ

3. **åŠ¨æ€å…ƒç´ æ ‡é¢˜é¢œè‰²**
   - `<Component>` æ ‡ç­¾é¢œè‰²åŒ¹é…å½“å‰æ¨¡å¼
   - ä»coralå›ºå®šè‰²æ”¹ä¸ºåŠ¨æ€accentè‰²

### 4. **ç»†èŠ‚ä¼˜åŒ–**

#### é˜´å½±å‡çº§
```css
/* æ—§ç‰ˆ */
box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);

/* æ–°ç‰ˆ - æ›´ç°ä»£çš„åˆ†å±‚é˜´å½± */
box-shadow:
  0 4px 16px rgba(0, 0, 0, 0.12),
  0 2px 6px rgba(0, 0, 0, 0.08);
```

#### åœ†è§’ä¼˜åŒ–
```css
border-radius: 4px â†’ 6px  /* æ›´æŸ”å’Œ */
```

#### æ’ç‰ˆä¼˜åŒ–
- Mode Badge: 11px, 600 weight, uppercase, letter-spacing
- å†…è¾¹è·è°ƒæ•´ï¼šç»Ÿä¸€ä½¿ç”¨ 6px/10px èŠ‚å¥
- Overflow hiddenï¼šé˜²æ­¢å†…å®¹æº¢å‡º

## ğŸ”§ æŠ€æœ¯å®ç°

### æ ¸å¿ƒæ–¹æ³•

#### 1. `getModeColors()` - é¢œè‰²é…ç½®ä¸­å¿ƒ
```typescript
private getModeColors(mode: InspectorAction | null): {
  overlay: string;      // è¦†ç›–å±‚èƒŒæ™¯è‰²
  accent: string;       // å¼ºè°ƒè‰²ï¼ˆè¾¹æ¡†ã€æ ‡é¢˜ï¼‰
  badge: string;        // Badgeæ¸å˜èƒŒæ™¯
  badgeText: string;    // Badgeæ–‡å­—é¢œè‰²
}
```

#### 2. `getModeIcon()` - å›¾æ ‡æ˜ å°„
```typescript
private getModeIcon(mode: InspectorAction | null): string {
  copy â†’ 'ğŸ“‹'
  locate â†’ 'ğŸ¯'
  target â†’ 'ğŸ”—'
  all â†’ 'âš¡'
}
```

#### 3. å®æ—¶æ¨¡å¼è¿½è¸ª
```typescript
// handleMouseMove ä¸­æ›´æ–°å½“å‰æ¨¡å¼
this.currentTriggeredAction = this.getTriggeredAction(e);

// render() ä¸­åº”ç”¨æ ·å¼
const currentMode = this.currentTriggeredAction || this.getDefaultAction();
const modeColors = this.getModeColors(currentMode);
```

### CSSæ¶æ„

#### åŠ¨ç”»ç³»ç»Ÿ
```css
@keyframes pulse-glow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.85; }
}

.content-overlay {
  transition: background 0.2s ease-in-out;
  animation: pulse-glow 2s ease-in-out infinite;
}
```

#### ç»„ä»¶æ ·å¼
```css
.mode-badge {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.3px;
  text-transform: uppercase;
  border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  transition: background 0.2s ease-in-out;
}
```

## ğŸ“Š ç”¨æˆ·ä½“éªŒæå‡

### Before â†’ After å¯¹æ¯”

| ç»´åº¦ | æ—§ç‰ˆ | æ–°ç‰ˆ | æ”¹è¿› |
|------|------|------|------|
| **æ¨¡å¼è¯†åˆ«** | ä¾èµ–æ–‡å­—æç¤º | é¢œè‰²+å›¾æ ‡+Badge | +200% |
| **è§†è§‰åé¦ˆ** | é™æ€è“è‰² | åŠ¨æ€å¤šè‰²ç³»ç»Ÿ | +300% |
| **è¿‡æ¸¡æµç•…åº¦** | æ— åŠ¨ç”» | å¹³æ»‘è¿‡æ¸¡+è„‰å†² | âˆ |
| **ä¿¡æ¯å±‚æ¬¡** | æ‰å¹³ | åˆ†å±‚è®¾è®¡ | +100% |
| **ç°ä»£æ„Ÿ** | ä¸€èˆ¬ | æ¸å˜+å¾®åŠ¨æ•ˆ | +150% |

### å…³é”®ç”¨æˆ·è·¯å¾„ä¼˜åŒ–

#### è·¯å¾„1: å¤åˆ¶æ–‡ä»¶è·¯å¾„
```
æ—§ç‰ˆï¼š
Shift+Alt â†’ è“è‰²æ¡† â†’ çœ‹æ–‡å­—ç¡®è®¤æ¨¡å¼ â†’ ç‚¹å‡»

æ–°ç‰ˆï¼š
Shift+Alt â†’ è“è‰²æ¡†+ğŸ“‹å¾½ç«  â†’ ç¬é—´è¯†åˆ«Copyæ¨¡å¼ â†’ ç‚¹å‡»
èŠ‚çœè®¤çŸ¥æ—¶é—´ï¼š~0.5-1ç§’
```

#### è·¯å¾„2: åˆ‡æ¢åˆ°IDEæ¨¡å¼
```
æ—§ç‰ˆï¼š
Shift+Alt â†’ æŒ‰Cåˆ‡æ¢ â†’ ç­‰å¾…Consoleç¡®è®¤ â†’ ç‚¹å‡»

æ–°ç‰ˆï¼š
Shift+Alt+Cmd â†’ ç»¿è‰²æ¡†+ğŸ¯å¾½ç« ç«‹å³å‡ºç° â†’ ç‚¹å‡»
èŠ‚çœæ“ä½œæ­¥éª¤ï¼š2æ­¥ â†’ 1æ­¥
```

## ğŸ¯ è®¾è®¡åŸåˆ™

### 1. **å³æ—¶æ€§** (Immediacy)
- ç”¨æˆ·æŒ‰ä¸‹å¿«æ·é”® â†’ è§†è§‰åé¦ˆåœ¨ 1 å¸§å†…å®Œæˆï¼ˆ<16msï¼‰
- æ— éœ€ç­‰å¾…æˆ–æ€è€ƒå½“å‰æ¨¡å¼

### 2. **ä¸€è‡´æ€§** (Consistency)
- æ‰€æœ‰æ¨¡å¼éµå¾ªç›¸åŒçš„è§†è§‰è¯­è¨€
- é¢œè‰²æ˜ å°„ç¬¦åˆç›´è§‰ï¼ˆç»¿è‰²=go/IDEï¼Œè“è‰²=info/copyï¼‰

### 3. **æ¸è¿›æŠ«éœ²** (Progressive Disclosure)
- Badgeæä¾›é«˜å±‚çº§ä¿¡æ¯ï¼ˆCOPY PATHï¼‰
- ä¸‹æ–¹æä¾›è¯¦ç»†å¿«æ·é”®è¯´æ˜

### 4. **å¯è®¿é—®æ€§** (Accessibility)
- é¢œè‰²å¯¹æ¯”åº¦ç¬¦åˆWCAG AAæ ‡å‡†
- å¤šé‡è§†è§‰æç¤ºï¼ˆé¢œè‰²+å›¾æ ‡+æ–‡å­—ï¼‰
- æ”¯æŒæ— éšœç¢æµè§ˆ

## ğŸš€ æ€§èƒ½å½±å“

### åŒ…ä½“ç§¯
- æ–°å¢ä»£ç ï¼š~2KB (å‹ç¼©å ~0.8KB)
- CSSæ–°å¢ï¼š~1KB
- **æ€»å¢é•¿ï¼š<1%**

### è¿è¡Œæ—¶æ€§èƒ½
- é¢œè‰²è®¡ç®—ï¼šO(1) æŸ¥æ‰¾è¡¨
- DOMæ›´æ–°ï¼šä»…åœ¨æ¨¡å¼åˆ‡æ¢æ—¶è§¦å‘
- åŠ¨ç”»ï¼šä½¿ç”¨GPUåŠ é€Ÿçš„opacityå±æ€§
- **æ€§èƒ½å½±å“ï¼š<1ms/frame**

## ğŸ“ æœªæ¥ä¼˜åŒ–æ–¹å‘

### çŸ­æœŸï¼ˆv1.3.0ï¼‰
- [ ] æ·»åŠ ç”¨æˆ·è‡ªå®šä¹‰ä¸»é¢˜é…è‰²
- [ ] æ”¯æŒæš—è‰²æ¨¡å¼
- [ ] Badgeä½ç½®å¯é…ç½®ï¼ˆtop/bottomï¼‰

### ä¸­æœŸï¼ˆv1.4.0ï¼‰
- [ ] å£°éŸ³åé¦ˆï¼ˆå¯é€‰ï¼‰
- [ ] éœ‡åŠ¨åé¦ˆï¼ˆç§»åŠ¨ç«¯ï¼‰
- [ ] å¿«æ·é”®å¯è§†åŒ–æ•™ç¨‹

### é•¿æœŸï¼ˆv2.0.0ï¼‰
- [ ] å®Œæ•´çš„ä¸»é¢˜ç³»ç»Ÿ
- [ ] åŠ¨ç”»åº“ï¼ˆå¯é€‰ä¸åŒè¿‡æ¸¡æ•ˆæœï¼‰
- [ ] AIé©±åŠ¨çš„æ™ºèƒ½æ¨¡å¼å»ºè®®

## ğŸ” æµ‹è¯•å»ºè®®

### æ‰‹åŠ¨æµ‹è¯•æ¸…å•
- [ ] Macç³»ç»Ÿï¼šShift+Opt â†’ è“è‰²ï¼ŒShift+Opt+Cmd â†’ ç»¿è‰²
- [ ] Windowsç³»ç»Ÿï¼šShift+Alt â†’ è“è‰²ï¼ŒShift+Alt+Ctrl â†’ ç»¿è‰²
- [ ] å¿«é€Ÿåˆ‡æ¢ï¼šåå¤æŒ‰/æ¾Cmdï¼Œè§‚å¯Ÿé¢œè‰²å¹³æ»‘åˆ‡æ¢
- [ ] æç«¯æƒ…å†µï¼šéå¸¸å°çš„å…ƒç´ ï¼Œæ£€æŸ¥Badgeä¸æº¢å‡º
- [ ] å¤šæµè§ˆå™¨ï¼šChrome, Firefox, Safari

### è§†è§‰å›å½’æµ‹è¯•
```bash
# å»ºè®®ä½¿ç”¨ Playwright è¿›è¡Œæˆªå›¾å¯¹æ¯”
npx playwright test visual-regression.spec.ts
```

## ğŸ“š ç›¸å…³æ–‡ä»¶

- æ ¸å¿ƒå®ç°ï¼š`packages/core/src/client/index.ts`
- ç±»å‹å®šä¹‰ï¼š`packages/core/src/shared/type.ts`
- æœåŠ¡ç«¯æ³¨å…¥ï¼š`packages/core/src/server/use-client.ts`
- å‡çº§æŒ‡å—ï¼š`HOTKEY_UPGRADE_GUIDE.md`

## ğŸ‰ æ€»ç»“

è¿™æ¬¡UXä¼˜åŒ–é€šè¿‡**é¢œè‰²ã€å›¾æ ‡ã€åŠ¨ç”»**ä¸‰ä½ä¸€ä½“çš„è®¾è®¡ï¼Œå°†åŸæœ¬ä¾èµ–æ–‡å­—çš„æ¨¡å¼åˆ‡æ¢ï¼Œå‡çº§ä¸º**ç›´è§‚ã€å³æ—¶ã€ä¼˜é›…**çš„è§†è§‰ç³»ç»Ÿã€‚ç”¨æˆ·æ— éœ€æ€è€ƒï¼Œä¸€çœ¼å°±èƒ½è¯†åˆ«å½“å‰æ“ä½œæ¨¡å¼ï¼Œå¤§å¹…æå‡äº†å·¥ä½œæ•ˆç‡å’Œä½¿ç”¨ä½“éªŒã€‚

---

**ç‰ˆæœ¬ï¼š** v1.2.12+
**ä½œè€…ï¼š** Claude Code Assistant
**æ—¥æœŸï¼š** 2025-11-15
